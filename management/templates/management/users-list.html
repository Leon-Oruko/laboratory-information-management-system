{% extends 'management/base.html' %}
{% block content %}
{% load static %}
<!-- align button with container edge -->
<!-- fontawsome cdn -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div class="container bg-white p-10 rounded-lg overflow-y-scroll h-screen scroll-mb-10 mt-5 ">
<div class="flex justify-between">
<h1 class="text-3xl font-bold mb-5  " >Users</h1>
<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-14 new ">New </button>
</div>
<h3 class="text-xl font-bold mb-5 mt-10">Managers</h3>
<hr class="border-t border-gray-300 my-2"/>
<div class="flex flex-wrap flex-row gap-2">
{% for user in users %}
{% if user.post == 'Lab Manager' %}
<!-- profile insert items into the profile -->
<div>
{% include 'management/prof.html' with user=user %}
<div class="text-white bg-purple-900  text-center p-1 mt-3 rounded-lg " >{{ user.username }}</div>
</div>
{% endif %}
{% endfor %}
</div>




<h3 class="text-xl font-bold mb-5 mt-10" >Recommenders</h3>
<hr class="border-t border-gray-300 my-2"/>
<div class="flex flex-wrap flex-row gap-2">
{% for user in users %}
{% if user.post == 'Agronomist' %}
<!-- profile insert items into the profile -->
<div>
{% include 'management/prof.html' with user=user %}
<div class="text-white bg-purple-700  text-center p-1 mt-3 rounded-lg " >{{ user.username  }}</div>
</div>
{% endif %}
{% endfor %}
</div>

<h3 class="text-xl font-bold mb-5 mt-10">Analyst</h3>
<hr class="border-t border-gray-300 my-2"/>
<div class="flex flex-wrap flex-row gap-2">
{% for user in users %}
{% if user.post == 'Analyst' %}
<!-- profile insert items into the profile -->
<div>
{% include 'management/prof.html' with user=user %}
<div class="text-white bg-purple-500  text-center p-1 mt-3 rounded-lg " >{{ user.username  }} </div>
</div>
{% endif %}
{% endfor %}
</div>




<h3 class="text-xl font-bold mb-5 mt-10">Admins</h3>
<hr class="border-t border-gray-300 my-2"/> 
<div class="flex flex-wrap flex-row gap-2">
{% for user in users %}
{% if user.post == 'Admin' %}
<!-- profile insert items into the profile -->
<div>
{% include 'management/prof.html' with user=user %}
<div class="text-white bg-purple-400  text-center p-1 mt-3 rounded-lg ">{{ user.username  }}</div>
</div>
{% endif %}
{% endfor %}
</div>
</div>

<!-- new user form -->
<!-- place the div at the center -->
<div style="background-color: #EAE6F7;" class="hidden fixed w-full h-full rounded-lg  ">
    <!-- close button -->    
    <div class="flex justify-between ml-7 mt-5">    
    <h1 class="text-3xl font-bold mb-5 mt-10" >New User</h1>
    <button style="background-color: #EAE6F7; border: none;" class="fa fa-times w-min text-3xl font-bold mb-5 mt-10"><i class=" hover:text-green text-red"><i/></button>
    <!-- <div class="fa fa-times text-3xl font-bold mb-5 mt-10"><i class=" hover:text-green text-red"><i/></div> -->
    </div>
    <hr class="border-t border-gray-300 my-2"/>
    {% include 'management/new-user.html' with form=form %}
</div>

<!-- js code todo handle hiding and closing of newusers form -->
<script>
    const newUserForm = document.querySelector('.hidden');
    const closeButton = document.querySelector('.fa-times');
    const openButton = document.querySelector('.new');
    closeButton.addEventListener('click', () => {
        newUserForm.classList.toggle('hidden');
    });
    openButton.addEventListener('click', () => {
        newUserForm.classList.toggle('hidden');
    })
</script>

{% endblock %}